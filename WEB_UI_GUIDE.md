# ğŸŒ AOA å®šä½ç³»ç»Ÿ - Web UI ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº **Flask + HTML5 Canvas** çš„å®æ—¶å¯è§†åŒ–ç•Œé¢ï¼Œç”¨äºç›‘æ§ AOAï¼ˆåˆ°è¾¾è§’ï¼‰å®šä½ç³»ç»Ÿã€‚æä¾›ï¼š

- ğŸ—ºï¸ **å®æ—¶åœ°å›¾æ˜¾ç¤º** - åŠ è½½å¹¶æ˜¾ç¤ºåŸºå‡†åœ°å›¾
- ğŸ“ **Beacon ä½ç½®è·Ÿè¸ª** - å®æ—¶æ˜¾ç¤ºä¿¡æ ‡åœ¨å…¨å±€åæ ‡ç³»ä¸­çš„ä½ç½®
- ğŸ¤– **æœºå™¨äººä½å§¿æ€** - æ˜¾ç¤ºåœ°ç›˜çš„å½“å‰ä½ç½®å’Œæœå‘
- âœï¸ **è‡ªå®šä¹‰æ£€æµ‹åŒºåŸŸ** - ç”¨æˆ·å¯ä»¥åœ¨åœ°å›¾ä¸Šç»˜åˆ¶çŸ©å½¢è­¦æˆ’åŒºåŸŸ
- âš ï¸ **åŒºåŸŸæ£€æµ‹å‘Šè­¦** - Beacon è¿›å…¥è­¦æˆ’åŒºåŸŸæ—¶å®æ—¶æç¤º
- ğŸ“Š **å®æ—¶æ•°æ®å±•ç¤º** - æ˜¾ç¤º Beacon çš„ç½®ä¿¡åº¦ã€è·ç¦»ã€è§’åº¦ç­‰æ•°æ®
- ğŸ¯ **äº¤äº’æ“ä½œ** - ç¼©æ”¾ã€å¹³ç§»ã€ç»˜åˆ¶åŒºåŸŸ

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–

```bash
cd /home/han14/gitw/AOAathelta
pip3 install -r requirements.txt
```

**ä¾èµ–åŒ…åˆ—è¡¨ï¼š**
- `flask` - Web æ¡†æ¶
- `flask-cors` - è·¨åŸŸè¯·æ±‚æ”¯æŒ
- `pyserial` - ä¸²å£é€šä¿¡
- `requests` - HTTP è¯·æ±‚
- `numpy` - æ•°å€¼è®¡ç®—

### 2. å¯åŠ¨æœåŠ¡

**æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰**

```bash
./start_web_ui.sh
```

**æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ**

```bash
python3 web_app.py
```

### 3. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€

- **æœ¬åœ°è®¿é—®ï¼š** http://127.0.0.1:5000
- **è¿œç¨‹è®¿é—®ï¼ˆæ ‘è“æ´¾ï¼‰ï¼š** http://<æ ‘è“æ´¾IPåœ°å€>:5000

## ğŸ“– ä½¿ç”¨è¯´æ˜

### ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã€æ§åˆ¶æ ã€‘åŠ è½½åœ°å›¾ | æ¸…é™¤åœ°å›¾ | ç»˜åˆ¶åŒºåŸŸ | æ¸…é™¤åŒºåŸŸ | å¯åŠ¨ | åœæ­¢  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚                     ã€åœ°å›¾æ˜¾ç¤ºåŒºåŸŸã€‘                           â”‚
â”‚                                                               â”‚
â”‚   â€¢ é»‘è‰²æ …æ ¼ = åœ°å›¾èƒŒæ™¯ï¼ˆç°åº¦å›¾åƒï¼‰                             â”‚
â”‚   â€¢ çº¢è‰²åœ†ç‚¹ = Beacon ä½ç½®                                     â”‚
â”‚   â€¢ è“è‰²åœ†ç‚¹ = æœºå™¨äººä½ç½®                                       â”‚
â”‚   â€¢ é»„è‰²çŸ©å½¢ = æ£€æµ‹åŒºåŸŸ                                         â”‚
â”‚   â€¢ ç¼©æ”¾ç™¾åˆ†æ¯” & åæ ‡æ˜¾ç¤ºåœ¨å³ä¸Šè§’                               â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ã€ä¿¡æ¯é¢æ¿ã€‘                                                    â”‚
â”‚  Beaconä¿¡æ¯ | æœºå™¨äººä¿¡æ¯ | åœ°å›¾ä¿¡æ¯ | æ£€æµ‹åŒºåŸŸ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠŸèƒ½è¯¦è§£

#### 1ï¸âƒ£ **åŠ è½½åœ°å›¾**

ç‚¹å‡» **ğŸ“ åŠ è½½åœ°å›¾** æŒ‰é’®ï¼š
- åŠ è½½ `maps/baseline/baseline_map.json` é…ç½®æ–‡ä»¶
- è¯»å–åœ°å›¾çš„æ …æ ¼æ•°æ®
- æ˜¾ç¤ºåœ°å›¾çš„å°ºå¯¸ã€åŸç‚¹ã€åˆ†è¾¨ç‡
- åœ°å›¾ä¼šè‡ªåŠ¨ç¼©æ”¾ä»¥é€‚åº”ç”»å¸ƒ

**åœ°å›¾åæ ‡ç³»ï¼š**
- åŸç‚¹ (origin_x, origin_y) = åœ°å›¾å·¦ä¸Šè§’çš„çœŸå®åæ ‡
- åˆ†è¾¨ç‡ = ç‰©ç†è·ç¦» / åƒç´ æ•°
- æ …æ ¼å€¼å«ä¹‰ï¼š
  - 0-50ï¼šéšœç¢ç‰©ï¼ˆé»‘è‰²ï¼‰
  - 128ï¼šæœªçŸ¥ï¼ˆç°è‰²ï¼‰
  - 200-255ï¼šå¯é€šè¡Œï¼ˆç™½è‰²ï¼‰

#### 2ï¸âƒ£ **ç¼©æ”¾å’Œå¹³ç§»**

**ç¼©æ”¾ï¼š**
- ğŸ–±ï¸ **æ»šè½®æ»šåŠ¨** - åœ¨é¼ æ ‡ä½ç½®å¤„ç¼©æ”¾åœ°å›¾
- èŒƒå›´ï¼š10% ~ 1000%ï¼ˆé€šè¿‡ä»£ç å¯è°ƒæ•´ï¼‰
- ç¼©æ”¾çº§åˆ«æ˜¾ç¤ºåœ¨å³ä¸Šè§’

**å¹³ç§»ï¼š**
- ğŸ–±ï¸ **é¼ æ ‡æ‹–åŠ¨** - åœ¨éç»˜åˆ¶æ¨¡å¼ä¸‹æ‹–åŠ¨ä»¥å¹³ç§»åœ°å›¾
- ğŸ“± **è§¦æ‘¸æ‹–åŠ¨** - åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ”¯æŒ

#### 3ï¸âƒ£ **ç»˜åˆ¶æ£€æµ‹åŒºåŸŸ**

1. ç‚¹å‡» **âœï¸ ç»˜åˆ¶åŒºåŸŸ** æŒ‰é’®åˆ‡æ¢åˆ°ç»˜åˆ¶æ¨¡å¼
   - æŒ‰é’®èƒŒæ™¯ä¼šå˜äº®ï¼Œè¡¨ç¤ºå¤„äºç»˜åˆ¶æ¨¡å¼
   - é¼ æ ‡å…‰æ ‡å˜ä¸º âœš åå­—

2. åœ¨åœ°å›¾ä¸Šç»˜åˆ¶çŸ©å½¢ï¼š
   - ğŸ–±ï¸ **æŒ‰ä½å·¦é”®** - ä»ä¸€ä¸ªç‚¹å¼€å§‹
   - ğŸ–±ï¸ **æ‹–åŠ¨åˆ°å¦ä¸€ä¸ªç‚¹** - å®šä¹‰çŸ©å½¢çš„å¯¹è§’çº¿
   - ğŸ–±ï¸ **æ¾å¼€å·¦é”®** - å®Œæˆè¯¥çŸ©å½¢åŒºåŸŸ

3. åŒºåŸŸä¿¡æ¯ï¼š
   - æ¯ä¸ªåŒºåŸŸæ˜¾ç¤ºä¸º**é»„è‰²çŸ©å½¢**ï¼ˆä¸é€æ˜åº¦ 20%ï¼‰
   - æ­£åœ¨ç»˜åˆ¶çš„åŒºåŸŸä¸º**çº¢è‰²çŸ©å½¢**ï¼ˆä¸é€æ˜åº¦ 30%ï¼‰
   - åŒºåŸŸæ•°é‡å’Œåæ ‡æ˜¾ç¤ºåœ¨ä¿¡æ¯é¢æ¿

#### 4ï¸âƒ£ **Beacon ä½ç½®ç›‘æµ‹**

**å¯åŠ¨ç³»ç»Ÿï¼š**

1. ç‚¹å‡» **â–¶ï¸ å¯åŠ¨** æŒ‰é’®
   - åˆå§‹åŒ–å¡å°”æ›¼æ»¤æ³¢å™¨ã€API å®¢æˆ·ç«¯ã€ä¸²å£è¯»å–ç­‰
   - åå°çº¿ç¨‹å¼€å§‹è¯»å–ä¸²å£æ•°æ®å’Œ API æ•°æ®

2. ç³»ç»Ÿè¿è¡Œæ—¶ï¼š
   - çŠ¶æ€æŒ‡ç¤ºå™¨æ˜¾ç¤º **âœ“ åœ¨çº¿**ï¼ˆç»¿è‰²é—ªçƒï¼‰
   - Beacon ä½ç½®å®æ—¶åœ¨åœ°å›¾ä¸Šæ ‡è®°ä¸ºçº¢ç‚¹
   - ä¿¡æ¯é¢æ¿æ˜¾ç¤ºå®æ—¶æ•°æ®

**æ˜¾ç¤ºæ•°æ®ï¼š**

```
Beacon ä¿¡æ¯ï¼š
  ä½ç½® X/Y - å…¨å±€åæ ‡ç³»ä¸­çš„ä½ç½®ï¼ˆç±³ï¼‰
  å§¿æ€ - ä»é€Ÿåº¦å‘é‡ä¼°è®¡çš„æœå‘ï¼ˆå¼§åº¦ï¼‰
  ç½®ä¿¡åº¦ - å¡å°”æ›¼æ»¤æ³¢å™¨ç»™å‡ºçš„ç½®ä¿¡åº¦ï¼ˆ0-100%ï¼‰
  è·ç¦» - åŸå§‹çš„ Beacon è·ç¦»ï¼ˆç±³ï¼‰
  è§’åº¦ - åŸå§‹çš„ Beacon è§’åº¦ï¼ˆåº¦ï¼‰

æœºå™¨äººä¿¡æ¯ï¼š
  ä½ç½® X/Y - åœ°ç›˜/Anchor åœ¨åœ°å›¾ä¸­çš„ä½ç½®
  æœå‘ - åœ°ç›˜çš„æœå‘è§’ï¼ˆå¼§åº¦ï¼‰
  è¿æ¥çŠ¶æ€ - æ˜¯å¦æˆåŠŸä»åœ°ç›˜ API è·å–æ•°æ®
```

#### 5ï¸âƒ£ **åŒºåŸŸå‘Šè­¦**

å½“ Beacon ä½ç½®è¿›å…¥ä»»ä½•æ£€æµ‹åŒºåŸŸæ—¶ï¼š

- **å‘Šè­¦æŒ‡ç¤ºï¼š** å³ä¸Šè§’è­¦æˆ’çŠ¶æ€å˜ä¸º **âš ï¸ è¿›å…¥åŒºåŸŸ!**ï¼ˆçº¢è‰²é—ªçƒï¼‰
- **å‘Šè­¦æ¶ˆæ¯ï¼š** å¯é…ç½®çš„å‘Šè­¦é€»è¾‘ï¼ˆå¾…æ‰©å±•ï¼Œå¯é›†æˆä¸å°è½¦æ§åˆ¶ï¼‰

#### 6ï¸âƒ£ **åœæ­¢ç³»ç»Ÿ**

ç‚¹å‡» **â¹ï¸ åœæ­¢** æŒ‰é’®ï¼š
- åœæ­¢ä¸²å£è¯»å–å’Œæ•°æ®æ›´æ–°çº¿ç¨‹
- çŠ¶æ€æŒ‡ç¤ºå™¨æ˜¾ç¤º **âœ— ç¦»çº¿**ï¼ˆçº¢è‰²ä¸é—ªçƒï¼‰
- Beacon ä½ç½®åœæ­¢æ›´æ–°

#### 7ï¸âƒ£ **æ¸…é™¤æ“ä½œ**

- **ğŸ—‘ï¸ æ¸…é™¤åœ°å›¾** - å¸è½½å½“å‰åœ°å›¾ï¼Œæ¸…ç©ºæ˜¾ç¤º
- **âŒ æ¸…é™¤åŒºåŸŸ** - åˆ é™¤æ‰€æœ‰æ£€æµ‹åŒºåŸŸ

## ğŸ”§ API ç«¯ç‚¹

åº”ç”¨æä¾›ä»¥ä¸‹ REST API ç«¯ç‚¹ï¼š

### GET /api/position
è·å–å½“å‰ Beacon ä½ç½®
```json
{
  "global_x": 5.23,
  "global_y": 3.45,
  "global_yaw": 1.234,
  "local_x": -0.5,
  "local_y": 1.2,
  "distance": 1.5,
  "angle": 45.0,
  "confidence": 0.92,
  "in_zone": false
}
```

### GET /api/robot-pose
è·å–æœºå™¨äººä½å§¿æ€
```json
{
  "x": 5.234,
  "y": 3.456,
  "z": 0.0,
  "yaw": 0.785,
  "pitch": 0.0,
  "roll": 0.0
}
```

### GET /api/map-info
è·å–åœ°å›¾å…ƒæ•°æ®
```json
{
  "origin_x": -29.2,
  "origin_y": -8.55,
  "width": 1051,
  "height": 428,
  "resolution": 0.05
}
```

### GET /api/map-data
è·å–åœ°å›¾æ …æ ¼æ•°æ®ï¼ˆBase64 ç¼–ç çš„ PNGï¼‰
```json
{
  "image": "iVBORw0KGgoAAAANSUhEUgA..."
}
```

### GET /api/zones
è·å–æ‰€æœ‰æ£€æµ‹åŒºåŸŸ
```json
{
  "zones": [
    {
      "x1": 5.0,
      "y1": 3.0,
      "x2": 6.0,
      "y2": 4.0,
      "id": 1700000000000
    }
  ]
}
```

### POST /api/zones
ä¿å­˜æ£€æµ‹åŒºåŸŸåˆ—è¡¨
```json
{
  "zones": [
    {"x1": 5.0, "y1": 3.0, "x2": 6.0, "y2": 4.0, "id": 1700000000000}
  ]
}
```

### POST /api/start
å¯åŠ¨æ•°æ®é‡‡é›†ç³»ç»Ÿ
```json
{
  "port": "/dev/ttyUSB0"  // å¯é€‰
}
```

### POST /api/stop
åœæ­¢æ•°æ®é‡‡é›†ç³»ç»Ÿ

### GET /api/status
è·å–ç³»ç»ŸçŠ¶æ€
```json
{
  "is_running": true,
  "reader_connected": true,
  "timestamp": 1700000000.0
}
```

## ğŸ”Œ ç¡¬ä»¶é…ç½®

### ä¸²å£é…ç½®

- **æ³¢ç‰¹ç‡ï¼š** 921600 bps
- **æ•°æ®ä½ï¼š** 8
- **åœæ­¢ä½ï¼š** 1
- **æ ¡éªŒä½ï¼š** æ— 
- **ç«¯å£ï¼š** `/dev/ttyUSB0`ï¼ˆæ ‘è“æ´¾ä¸Šé€šå¸¸ä¸ºæ­¤ï¼Œå¯åœ¨å¯åŠ¨æ—¶é…ç½®ï¼‰

### åœ°ç›˜ API é…ç½®

- **åŸºç¡€ URLï¼š** `http://192.168.11.1:1448`ï¼ˆåœ¨ `core/api_client.py` ä¸­é…ç½®ï¼‰
- **è¶…æ—¶æ—¶é—´ï¼š** 5 ç§’
- **æŸ¥è¯¢é¢‘ç‡ï¼š** 20 Hz (0.05 ç§’)
- **è®¤è¯ï¼š** Secret header (`123456`)

## ğŸ“ é…ç½®æ–‡ä»¶

### requirements.txt
ä¾èµ–åŒ…åˆ—è¡¨ï¼Œå¯é€šè¿‡ `pip3 install -r requirements.txt` å®‰è£…

### templates/index.html
Web åº”ç”¨çš„ä¸»é¡µé¢ï¼ŒåŒ…å« Canvas å’Œæ§åˆ¶ç•Œé¢

### static/css/style.css
æ ·å¼è¡¨ï¼Œå®šä¹‰ç•Œé¢å¤–è§‚

### static/js/map.js
JavaScript åº”ç”¨é€»è¾‘ï¼ŒåŒ…å«ï¼š
- MapViewer ç±» - åœ°å›¾æ˜¾ç¤ºå’Œäº¤äº’
- äº‹ä»¶å¤„ç† - é¼ æ ‡ã€æ»šè½®ã€è§¦æ‘¸
- API è°ƒç”¨ - è·å–æ•°æ®å’Œæ›´æ–°ç•Œé¢
- åŒºåŸŸç®¡ç† - ç»˜åˆ¶å’Œæ£€æµ‹

## ğŸ› æ•…éšœæ’é™¤

### åœ°å›¾æ— æ³•åŠ è½½

**é—®é¢˜ï¼š** ç‚¹å‡»"åŠ è½½åœ°å›¾"åæ²¡æœ‰ååº”

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ï¼šF12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹ Console æ ‡ç­¾
2. ç¡®ä¿ `maps/baseline/baseline_map.json` å’Œåœ°å›¾æ•°æ®æ–‡ä»¶å­˜åœ¨
3. æ£€æŸ¥ Flask åç«¯çš„æ—¥å¿—è¾“å‡º

### æ²¡æœ‰ Beacon æ•°æ®

**é—®é¢˜ï¼š** å¯åŠ¨ç³»ç»Ÿåï¼ŒBeacon ä¿¡æ¯ä¸€ç›´æ˜¾ç¤º"æœªæ£€æµ‹"

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ä¸²å£è¿æ¥ï¼š`ls /dev/ttyUSB*`
2. ç¡®è®¤ç¡¬ä»¶ Beacon è®¾å¤‡å·²è¿æ¥å¹¶å·¥ä½œ
3. æ£€æŸ¥ä¸²å£æƒé™ï¼š`sudo usermod -a -G dialout $USER`ï¼ˆå¯èƒ½éœ€è¦é‡æ–°ç™»å½•ï¼‰
4. æŸ¥çœ‹ Flask æ—¥å¿—ç¡®è®¤ä¸²å£æ˜¯å¦æˆåŠŸæ‰“å¼€

### æœºå™¨äººä½ç½®æ˜¾ç¤ºä¸ºç©º

**é—®é¢˜ï¼š** æœºå™¨äººä¿¡æ¯ä¸€ç›´æ˜¾ç¤º "-"

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥åœ°ç›˜ API åœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆè§ä¸Šé¢çš„"åœ°ç›˜ API é…ç½®"ï¼‰
2. ç¡®è®¤åœ°ç›˜ç³»ç»Ÿæ­£åœ¨è¿è¡Œ
3. éªŒè¯ç½‘ç»œè¿æ¥å’Œ IP åœ°å€

### ç»˜åˆ¶åŒºåŸŸæ— å“åº”

**é—®é¢˜ï¼š** ç‚¹å‡»"ç»˜åˆ¶åŒºåŸŸ"åä»æ— æ³•ç”»å‡ºçŸ©å½¢

**è§£å†³æ–¹æ³•ï¼š**
1. ç¡®ä¿å·²åŠ è½½åœ°å›¾ï¼ˆå…ˆç‚¹å‡»"åŠ è½½åœ°å›¾"ï¼‰
2. æ£€æŸ¥æŒ‰é’®æ˜¯å¦å·²æ¿€æ´»ï¼ˆèƒŒæ™¯åº”è¯¥æ”¹å˜ï¼‰
3. å°è¯•åˆ·æ–°æµè§ˆå™¨é¡µé¢

## ğŸš€ æ ‘è“æ´¾éƒ¨ç½²

### ç¯å¢ƒå‡†å¤‡

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update
sudo apt upgrade

# å®‰è£… Python å’Œ pip
sudo apt install python3 python3-pip python3-dev

# å®‰è£…é¢å¤–ä¾èµ–ï¼ˆå¯é€‰ï¼‰
sudo apt install libjpeg-dev zlib1g-dev
```

### è¿è¡Œåº”ç”¨

```bash
cd /home/pi/AOAathelta

# ç¬¬ä¸€æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# å¯åŠ¨æœåŠ¡
./start_web_ui.sh

# æˆ–ä½¿ç”¨åå°è¿è¡Œ
nohup python3 web_app.py > web_ui.log 2>&1 &
```

### è‡ªå¯åŠ¨é…ç½®ï¼ˆå¯é€‰ï¼‰

åˆ›å»º systemd æœåŠ¡æ–‡ä»¶ `/etc/systemd/system/aoa-webui.service`ï¼š

```ini
[Unit]
Description=AOA Localization System Web UI
After=network.target

[Service]
Type=simple
User=pi
WorkingDirectory=/home/pi/AOAathelta
ExecStart=/usr/bin/python3 /home/pi/AOAathelta/web_app.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

å¯ç”¨æœåŠ¡ï¼š

```bash
sudo systemctl enable aoa-webui
sudo systemctl start aoa-webui
```

## ğŸ¨ å®šåˆ¶å’Œæ‰©å±•

### ä¿®æ”¹ Flask é…ç½®

åœ¨ `web_app.py` æœ€åçš„ `if __name__ == '__main__':` å—ä¸­ï¼š

```python
app.run(
    host='0.0.0.0',  # å…è®¸è¿œç¨‹è®¿é—®
    port=5000,        # æ”¹ä¸ºå…¶ä»–ç«¯å£
    debug=False,      # å¼€å‘æ—¶å¯è®¾ä¸º True
    use_reloader=False
)
```

### ä¿®æ”¹å‰ç«¯é¢œè‰²å’Œæ ·å¼

ç¼–è¾‘ `static/css/style.css`ï¼Œä¿®æ”¹ï¼š
- èƒŒæ™¯è‰²ã€æŒ‰é’®é¢œè‰²
- Canvas ç»˜åˆ¶é¢œè‰²ï¼ˆåœ¨ `static/js/map.js` ä¸­ï¼‰

### æ·»åŠ æ–° API ç«¯ç‚¹

åœ¨ `web_app.py` ä¸­æ·»åŠ æ–°çš„ Flask è·¯ç”±ï¼š

```python
@app.route('/api/your-endpoint')
def your_endpoint():
    return jsonify({'data': 'your_data'})
```

### æ‰©å±•å‘Šè­¦åŠŸèƒ½

åœ¨ `static/js/map.js` çš„ `updatePositionData()` å‡½æ•°ä¸­ï¼Œå½“ `pos.in_zone` ä¸º true æ—¶ï¼š

```javascript
if (pos.in_zone) {
    // å‘é€å‘Šè­¦ä¿¡å·åˆ°å°è½¦
    fetch('/api/alert', {
        method: 'POST',
        body: JSON.stringify({x: pos.global_x, y: pos.global_y})
    });
}
```

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

å¦‚é‡é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·æ£€æŸ¥ï¼š

1. æ—¥å¿—æ–‡ä»¶è¾“å‡ºï¼ˆæµè§ˆå™¨ Console å’Œ Flask ç»ˆç«¯ï¼‰
2. ç½‘ç»œè¿æ¥å’Œ API å¯ç”¨æ€§
3. ç¡¬ä»¶è¿æ¥çŠ¶æ€

## ğŸ“„ è®¸å¯

æœ¬é¡¹ç›®å±äº AOA å®šä½ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚

---

**æœ€åæ›´æ–°ï¼š** 2026-01-28  
**ç‰ˆæœ¬ï¼š** 1.0.0
