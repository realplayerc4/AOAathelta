# 地图显示功能说明

## 新增功能

### 1. 地图数量统计
- 界面顶部显示"地图数量: X"，实时显示获取到的地图总数

### 2. 缩略图显示
- 每个地图左侧显示150x150的缩略图
- 自动从API返回的URL下载缩略图
- 使用后台线程异步下载，不阻塞界面
- 图片自动缩放以适应显示区域
- 下载期间显示"加载中..."提示

### 3. 地图信息展示
- **一个地图一条记录**，垂直排列
- 每条记录包含：
  - 缩略图（左侧）
  - 地图名称（高亮显示，青色）
  - 地图ID
  - 描述（如有）
  - 分辨率、大小、创建时间等详细信息

### 4. 界面优化
- 黑色主题，清晰易读
- 鼠标悬停时边框高亮
- 支持滚动查看多个地图
- 响应式布局

## API数据格式支持

程序会自动从API响应中提取缩略图URL，支持以下字段名：
- `thumbnailUrl`
- `thumbnail`
- `imageUrl`

## 使用方法

1. 点击"🗺️ 获取地图列表"按钮
2. 系统自动获取地图数据
3. 顶部显示地图总数
4. 逐条展示每个地图信息
5. 缩略图自动下载并显示

## 技术实现

### 修改的文件

1. **models/map.py**
   - 添加 `thumbnail_url` 字段
   - 在 `from_dict` 方法中解析缩略图URL

2. **ui/widgets/map_table.py**
   - 从表格组件改为自定义列表组件
   - 添加 `ImageDownloader` 线程类用于异步下载图片
   - 实现垂直列表布局，每个地图一个Frame
   - 添加缩略图显示和加载逻辑

### 主要特性

- ✅ 异步下载缩略图，不阻塞UI
- ✅ 自动处理图片缩放
- ✅ 下载失败静默处理
- ✅ 支持大量地图的滚动显示
- ✅ 内存管理：清空时正确释放资源

## 注意事项

1. 如果API不返回缩略图URL，对应位置会显示"加载中..."
2. 如果缩略图下载失败，会保持默认显示状态
3. 缩略图下载有10秒超时限制
4. 所有操作都在后台线程执行，确保界面流畅
