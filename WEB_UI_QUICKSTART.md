# 🚀 AOA Web UI - 快速开始

## 📦 一键安装和运行

```bash
cd /home/han14/gitw/AOAathelta

# 安装依赖（首次）
pip3 install -r requirements.txt

# 运行应用
python3 web_app.py
```

## 🌐 打开浏览器

- **本地：** http://127.0.0.1:5000
- **远程（树莓派 IP）：** http://192.168.x.x:5000

## 🎮 使用步骤

### 1. 加载地图
点击 **📍 加载地图** 按钮 → 地图会显示在画布上

### 2. 绘制警戒区域（可选）
- 点击 **✏️ 绘制区域**
- 在地图上拖动鼠标绘制矩形
- 重复多次可绘制多个区域

### 3. 启动系统
点击 **▶️ 启动** 按钮 → 开始接收 Beacon 数据

### 4. 实时监控
- 红色圆点 = Beacon 位置
- 蓝色圆点 = 机器人位置
- 黄色矩形 = 警戒区域
- 当 Beacon 进入区域时，右上角会显示告警

### 5. 交互操作
- **缩放：** 鼠标滚轮
- **平移：** 拖动地图
- **清除：** 点击对应的清除按钮

## 🔧 配置

### 修改串口
在 `web_app.py` 中改这一行：
```python
port = '/dev/ttyUSB0'  # 改为你的串口号
```

### 修改 API 地址
在 `core/api_client.py` 中修改 `BASE_URL`

### 修改访问 IP（树莓派）
在 `web_app.py` 最后改这一行：
```python
app.run(host='0.0.0.0', port=5000)  # 改为 0.0.0.0 可从任何设备访问
```

## 📊 界面说明

| 区域 | 说明 |
|------|------|
| **控制栏** | 按钮：加载地图、绘制区域、启动/停止 |
| **地图区域** | Canvas 显示地图、Beacon、机器人、区域 |
| **右上角信息** | 缩放级别、当前坐标、Beacon 状态、告警 |
| **下方面板** | 实时数据展示：Beacon、机器人、地图、区域 |

## ⚠️ 常见问题

**Q: 地图无法显示？**  
A: 检查 `maps/baseline/baseline_map.json` 是否存在，F12 查看错误

**Q: 没有 Beacon 数据？**  
A: 检查串口连接，运行 `ls /dev/ttyUSB*` 查看

**Q: 无法绘制区域？**  
A: 先加载地图，再点击"绘制区域"

**Q: 远程无法访问？**  
A: 修改 Flask 配置，设置 `host='0.0.0.0'`

## 📚 完整文档

详见 [WEB_UI_GUIDE.md](WEB_UI_GUIDE.md)

---

**祝你使用愉快！🎉**
